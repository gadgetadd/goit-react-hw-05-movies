"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[244],{5244:function(e,n,r){r.r(n),r.d(n,{default:function(){return q}});var t,a,s,c,o=r(5861),i=r(9439),u=r(4687),l=r.n(u),h=r(2791),p=r(1087),x=r(6614),f=r(5705),d=r(8617),b=r(168),v=r(4934),m=v.Z.form(t||(t=(0,b.Z)(["\n  position: relative;\n  text-align: center;\n  width: 280px;\n  margin: 0 auto 36px;\n"]))),g=v.Z.input(a||(a=(0,b.Z)(["\n  height: 36px;\n  width: 100%;\n  padding: 5px 10px;\n"]))),Z=v.Z.button(s||(s=(0,b.Z)(["\n  position: absolute;\n  top: 2px;\n  right: 0;\n  border: none;\n  background-color: transparent;\n  cursor: pointer;\n"]))),j=v.Z.span(c||(c=(0,b.Z)(["\n  position: absolute;\n  width: 100%;\n  left: 0;\n  top: 40px;\n  color: #a73e1ec8;\n"]))),w=r(184),k=function(e){var n={};return e.search?e.search.length>30&&(n.search="Must be 30 characters or less"):n.search="Please, enter your search query",n};function S(e){var n=e.onSubmit,r=e.value,t=(0,f.TA)({initialValues:{search:r},validate:k,onSubmit:function(e){""!==e.search&&n(e.search)}});return(0,w.jsxs)(m,{onSubmit:t.handleSubmit,children:[(0,w.jsx)(g,{name:"search",type:"text",onChange:t.handleChange,value:t.values.search,placeholder:"Search"}),t.errors.search?(0,w.jsx)(j,{children:t.errors.search}):null,(0,w.jsx)(Z,{type:"submit",children:(0,w.jsx)(d.cMR,{size:"30px",color:"#18272fbb"})})]})}var _=r(1044),C=r(3757),y=r(1454);function q(){var e,n=(0,p.lr)(),r=(0,i.Z)(n,2),t=r[0],a=r[1],s=(0,h.useState)(null),c=(0,i.Z)(s,2),u=c[0],f=c[1],d=null!==(e=t.get("q"))&&void 0!==e?e:"",b=null!==u,v=(0,h.useCallback)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===d){e.next=11;break}return e.prev=1,e.next=4,x.Z.search(d);case 4:n=e.sent,f(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[d]);return(0,h.useEffect)((function(){v()}),[v]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(S,{onSubmit:function(e){a({q:e.trim().toLowerCase()})},value:d}),d&&(!b&&(0,w.jsx)(y.Z,{})||b&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(C.Z,{title:'Search results for "'.concat(d,'"')}),(0,w.jsx)(_.Z,{movies:u})]}))]})}}}]);
//# sourceMappingURL=244.a01840be.chunk.js.map